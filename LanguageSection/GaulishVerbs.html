<html>
<head>
<style>
.NavHead {
    background-color: lightgray;
    padding: 5px;
}

</style>
</head>
<body>
    <input type="text" id="Decline-Able" value="cor">
    <button type="button" onclick="DeclineFunction()">Decline</button>
    <p>Test Verb Table</p>

<table style="width: 100%; background: #EEE; border: 1px solid #AAA; font-size: 95%; text-align: center;" class="inflection-table vsSwitcher" data-toggle-category="inflection">
<tr>
<th colspan="8" class="vsToggleElement" style="background: rgb(204, 204, 204); text-align: left; cursor: pointer;">
<div class="NavFrame" style="display:inline-block">
    <div class="NavHead" align="left" style="cursor: pointer;">
    <span class="NavToggle">
        <a id="verbButton" role="button" onclick="DropDownFunction()">less ▲</a>
        </span>Conjugation of <span lang="sy">
    <strong class="CurrentWord">Cariu</strong>
</div>
</th></tr>
<tbody class="NavContent" id="DropDownVerb" style=""><tr>
<tr class="vsHide" style="">
<th colspan="2" rowspan="2" style="background:#c0cfe4">indicative
</th>
<th colspan="3" style="background:#c0cfe4"><i>singular</i>
</th>
<th colspan="3" style="background:#c0cfe4"><i>plural</i>
</th></tr>
<tr class="vsHide" style="">
<th style="background:#c0cfe4;width:12.5%"><p title="first person">first</a>
</th>
<th style="background:#c0cfe4;width:12.5%"><p title="second person">second</a>
</th>
<th style="background:#c0cfe4;width:12.5%"><p title="third person">third</a>
</th>
<th style="background:#c0cfe4;width:12.5%"><p title="first person">first</a>
</th>
<th style="background:#c0cfe4;width:12.5%"><p title="second person">second</a>
</th>
<th style="background:#c0cfe4;width:12.5%"><p title="third person">third</a>
</th></tr>
<tr class="vsHide" style="">
<th rowspan="4" style="background:#c0cfe4">active
</th>
<th style="background:#c0cfe4">present
</th>
<td><span lang="ga" class="Conjugate"><p></p></span>
<td><span lang="ga" class="Conjugate"><p></p></span>
<td><span lang="ga" class="Conjugate"><p></p></span>
<td><span lang="ga" class="Conjugate"><p></p></span>
<td><span lang="ga" class="Conjugate"><p></p></span>
<td><span lang="ga" class="Conjugate"><p></p></span>
</td>
</tr>
<tr class="vsHide" style="">
<th style="background:#c0cfe4">imperfect
</th>
<td><span lang="ga" class="Conjugate"><p></p></span>
<td><span lang="ga" class="Conjugate"><p></p></span>
<td><span lang="ga" class="Conjugate"><p></p></span>
<td><span lang="ga" class="Conjugate"><p></p></span>
<td><span lang="ga" class="Conjugate"><p></p></span>
<td><span lang="ga" class="Conjugate"><p></p></span>
</td>
</tr>
<tr class="vsHide" style="">
<th style="background:#c0cfe4">future
</th>
<td><span lang="ga" class="Conjugate"><p></p></span>
<td><span lang="ga" class="Conjugate"><p></p></span>
<td><span lang="ga" class="Conjugate"><p></p></span>
<td><span lang="ga" class="Conjugate"><p></p></span>
<td><span lang="ga" class="Conjugate"><p></p></span>
<td><span lang="ga" class="Conjugate"><p></p></span>
</td>
</tr>
<tr class="vsHide" style="">
<th style="background:#c0cfe4">preterite
</th>
<td><span lang="ga" class="Conjugate"><p></p></span>
<td><span lang="ga" class="Conjugate"><p></p></span>
<td><span lang="ga" class="Conjugate"><p></p></span>
<td><span lang="ga" class="Conjugate"><p></p></span>
<td><span lang="ga" class="Conjugate"><p></p></span>
<td><span lang="ga" class="Conjugate"><p></p></span>
</td>
</tr>
<tr class="vsHide" style="">
<th rowspan="4" style="background:#c0cfe4">middle/passive
</th>
<th style="background:#c0cfe4">present
</th>
<td><span lang="ga" class="Conjugate"><p></p></span>
<td><span lang="ga" class="Conjugate"><p></p></span>
<td><span lang="ga" class="Conjugate"><p></p></span>
<td><span lang="ga" class="Conjugate"><p></p></span>
<td><span lang="ga" class="Conjugate"><p></p></span>
<td><span lang="ga" class="Conjugate"><p></p></span>
</td>
</tr>
<tr class="vsHide" style="">
<th style="background:#c0cfe4">imperfect
</th>
<td><span lang="ga" class=""><p>-</p></span>
<td><span lang="ga" class=""><p>-</p></span>
<td><span lang="ga" class="Conjugate"><p></p></span>
<td><span lang="ga" class=""><p>-</p></span>
<td><span lang="ga" class=""><p>-</p></span>
<td><span lang="ga" class="Conjugate"><p></p></span>
</td>
</tr>
<tr class="vsHide" style="">
<th style="background:#c0cfe4">future
</th>
<td><span lang="ga" class="Conjugate"><p></p></span>
<td><span lang="ga" class="Conjugate"><p></p></span>
<td><span lang="ga" class="Conjugate"><p></p></span>
<td><span lang="ga" class="Conjugate"><p></p></span>
<td><span lang="ga" class="Conjugate"><p></p></span>
<td><span lang="ga" class="Conjugate"><p></p></span>
</td>
</tr>
<tr class="vsHide" style="">
<th style="background:#c0cfe4">preterite
</th>
<td><span lang="ga" class=""><p>-</p></span>
<td><span lang="ga" class=""><p>-</p></span>
<td><span lang="ga" class="Conjugate"><p></p></span>
<td><span lang="ga" class=""><p>-</p></span>
<td><span lang="ga" class=""><p>-</p></span>
<td><span lang="ga" class="Conjugate"><p></p></span>
</td>
</tr>
<tr class="vsHide" style="">
<th colspan="2" rowspan="2" style="background:#c0e4c0">subjunctive
</th>
<th colspan="3" style="background:#c0e4c0"><i>singular</i>
</th>
<th colspan="3" style="background:#c0e4c0"><i>plural</i>
</th></tr>
<tr class="vsHide" style="">
<th style="background:#c0e4c0;width:12.5%"><p title="first person">first</a>
</th>
<th style="background:#c0e4c0;width:12.5%"><p title="second person">second</a>
</th>
<th style="background:#c0e4c0;width:12.5%"><p title="third person">third</a>
</th>
<th style="background:#c0e4c0;width:12.5%"><p title="first person">first</a>
</th>
<th style="background:#c0e4c0;width:12.5%"><p title="second person">second</a>
</th>
<th style="background:#c0e4c0;width:12.5%"><p title="third person">third</a>
</th></tr>
<tr class="vsHide" style="">
<th rowspan="1" style="background:#c0e4c0">active
</th>
<th style="background:#c0e4c0">present
</th>
<td><span lang="ga" class="Conjugate"><p></p></span>
<td><span lang="ga" class="Conjugate"><p></p></span>
<td><span lang="ga" class="Conjugate"><p></p></span>
<td><span lang="ga" class="Conjugate"><p></p></span>
<td><span lang="ga" class="Conjugate"><p></p></span>
<td><span lang="ga" class="Conjugate"><p></p></span>
</td>
</tr>
</tr>
<tr class="vsHide" style="">
<th colspan="2" rowspan="2" style="background:#e4d4c0">Imperative
</th>
<th colspan="3" style="background:#e4d4c0"><i>singular</i>
</th>
<th colspan="3" style="background:#e4d4c0"><i>plural</i>
</th></tr>
<tr class="vsHide" style="">
<th style="background:#e4d4c0;width:12.5%"><p title="first person">first</a>
</th>
<th style="background:#e4d4c0;width:12.5%"><p title="second person">second</a>
</th>
<th style="background:#e4d4c0;width:12.5%"><p title="third person">third</a>
</th>
<th style="background:#e4d4c0;width:12.5%"><p title="first person">first</a>
</th>
<th style="background:#e4d4c0;width:12.5%"><p title="second person">second</a>
</th>
<th style="background:#e4d4c0;width:12.5%"><p title="third person">third</a>
</th></tr>
<tr class="vsHide" style="">
<th rowspan="2" style="background:#e4d4c0">active
</th>
<th style="background:#e4d4c0">present
</th>
<td><span lang="ga" class=""><p>-</p></span>
<td><span lang="ga" class="Conjugate"><p></p></span>
<td><span lang="ga" class="Conjugate"><p></p></span>
<td><span lang="ga" class="Conjugate"><p></p></span>
<td><span lang="ga" class="Conjugate"><p></p></span>
<td><span lang="ga" class="Conjugate"><p></p></span>
</td>
</tr>
<th style="background:#e4d4c0">preterite
</th>
<td><span lang="ga" class=""><p>-</p></span>
<td><span lang="ga" class="Conjugate"><p></p></span>
<td><span lang="ga" class="Conjugate"><p></p></span>
<td><span lang="ga" class=""><p>-</p></span>
<td><span lang="ga" class="Conjugate"><p></p></span>
<td><span lang="ga" class="Conjugate"><p></p></span>
</td>
<tr>
<th colspan="2" style="background:#e0e0b0">
</th>
<th colspan="3" style="background:#e0e0b0">active
</th>
<th colspan="3" style="background:#e0e0b0">middle/passive
</th></tr>
<tr>
<th rowspan="3"  style="background:#e0e0b0">participle
</th>
<th style="background:#e0e0b0">m
</th>
<td colspan="3" class="Conjugate">
</td>
<td colspan="3" class="Conjugate">
</td></tr>
<tr>
<th style="background:#e0e0b0">f
</th>
<td colspan="3" class="Conjugate">
</td>
<td colspan="3" class="Conjugate">
</td></tr>
<tr>
<th style="background:#e0e0b0">n
</th>
<td colspan="3" class="Conjugate">
</td>
<td colspan="3" class="Conjugate">
</td></tr>
<tr class="vsHide" style="">
<th colspan="2" rowspan="1" style="background:#e0e0b0">gerund
</th>
<td colspan="6"><span lang="ga" class="Conjugate"><p></p></span>
</tr>
</tbody>
<script>
    function DropDownFunction()
    {
        var drop = document.getElementById("DropDownVerb");
        var button = document.getElementById("verbButton");
        console.log(drop.style.getPropertyValue("display"));
        if(drop.style.getPropertyValue("display") == "none")
        {
            drop.style.display = "";
            button.innerHTML = "less ▲";
        }
        else
        {
            drop.style.display = 'none';
            button.innerHTML = "more ▼";
        }
    }
	function DeclineFunction() {
        const endings = [
"-iu;", "-is;", "-it;", "-omasi;", "-ete;", "-onti",
"-onni;", "-ito;", "-et;", "-omes;", "-etes;", "-ontes",
"-issiu;", "-isses;", "-isseti;", "-issomasi;", "-issete;", "-issonti",
"-an;", "-a;", "-as;", "-mo;", "-te;", "-ar",

"-ior;", "-itar;", "-itur;", "-omor;", "-edde;", "-ontor",
"-etio;", "-ontes",
"-issior;", "-issetar;", "-issetur;", "-issomor;", "-issedde;", "-issontor",
"-to;", "-tiunts",

"-su;", "-stes;", "-sta;", "-somas;", "-sete;", "-sont",

"-i;", "-etu;", "-omas;", "-ete;", "-ontu",
"-s;", "-eto;", "-edde;", "-ento;",

"=-tos;", "=-mnos;", "=-ta;", "=-mna;", "=-ton;", "=-mnon;",
"-anna"
];
        var inputRoot = document.getElementById("Decline-Able").value;

        var names = document.getElementsByClassName("CurrentWord");
		for(let k = 0; k < names.length; ++k)
        {
            names[k].innerHTML = inputRoot;
        }

		var wordSlots = document.getElementsByClassName("Conjugate");
        var tempRoot = "";
		var deroot = "";
		for(let k = 0; k < wordSlots.length; ++k)
		{
            tempRoot = inputRoot;
			selectedEnding = endings[k % endings.length];
            //wordSlots[k].innerHTML = interLoc;
            if(selectedEnding.search(/\_/) != -1)
            {
                tempRoot = 
                tempRoot.slice(0, tempRoot.length - 1) +
                selectedEnding.split(/[_;]/)[1] +
                tempRoot.slice(tempRoot.length - 1, tempRoot.length);
            }
			if(selectedEnding.search(/\=/) != -1)
			{
				deroot = inputRoot.replace(/[bcdfghjklmnpqrstvwxyz]/gi, '');
				if(inputRoot.indexOf("r") != 0) //vowel first
					tempRoot = inputRoot.replace(/[aeiou]/gi, '') + inputRoot.replace(/[bcdfghjklmnpqrstvwxyz]/gi, '');
				else
					tempRoot = tempRoot + "i";
			}
			
            console.log("temp middle:" + selectedEnding.search(/\_/));

            if(selectedEnding.search(/\+/) != -1)
                tempRoot =  selectedEnding.split(/[+;]/)[1] + tempRoot;
            console.log("temp front:" + selectedEnding.search(/\+/));

            if(selectedEnding.search(/\-/) != -1)
                tempRoot = tempRoot + selectedEnding.split(/[-;]/)[1];
            console.log("temp back:" + selectedEnding.search(/\-/));
			
			//remove illegal combinations
			tempRoot = tempRoot.replace("ae", "ai");
			tempRoot = tempRoot.replace("ao", "aio");
			tempRoot = tempRoot.replace("gs", "x");
			tempRoot = tempRoot.replace("kx", "x");
			
			wordSlots[k].innerHTML = tempRoot;
		}
    }
</script>
</body>
</html>